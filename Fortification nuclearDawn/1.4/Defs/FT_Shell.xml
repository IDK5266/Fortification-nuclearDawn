<?xml version="1.0" encoding="utf-8" ?>
<Defs>

 <RecipeDef>
    <defName>FT_Dismantle_NuclearWarhead</defName>
    <label>dismantle nuclear warhead</label>
    <description>dismantle nuclear warhead and restore peace to this terrible world...</description>
    <jobString>dismantling warhead.</jobString>
    <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
    <effectWorking>Cook</effectWorking>
    <soundWorking>Recipe_Machining</soundWorking>
    <workAmount>8000</workAmount>
    <recipeUsers>
      <li>FT_TableLathe</li>
    </recipeUsers>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>FT_Shell_NuclearWarhead</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>FT_Shell_NuclearWarhead</li>
      </thingDefs>
    </fixedIngredientFilter>
    <products>
      <FT_EnrichedUranium>1</FT_EnrichedUranium>
      <ComponentIndustrial>2</ComponentIndustrial>
      <Steel>8</Steel>
    </products>
    <skillRequirements>
      <Crafting>12</Crafting>
    </skillRequirements>
	<researchPrerequisite>FT_NuclearDawn</researchPrerequisite>
    <workSkill>Crafting</workSkill>
  </RecipeDef>

  <RecipeDef>
    <defName>FT_Make_NuclearWarhead</defName>
    <label>assemble nuclear warhead</label>
    <description>assemble nuclear warhead by enriched uranium.</description>
    <jobString>assembling warhead.</jobString>
    <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
    <effectWorking>Cook</effectWorking>
    <soundWorking>Recipe_Machining</soundWorking>
    <workAmount>8000</workAmount>
    <recipeUsers>
      <li>FT_TableLathe</li>
    </recipeUsers>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>FT_EnrichedUranium</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
      <li>
        <filter>
          <thingDefs>
            <li>ComponentIndustrial</li>
          </thingDefs>
        </filter>
        <count>2</count>
      </li>
      <li>
        <filter>
          <thingDefs>
            <li>Steel</li>
          </thingDefs>
        </filter>
        <count>10</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>FT_EnrichedUranium</li>
        <li>ComponentIndustrial</li>
        <li>Steel</li>
      </thingDefs>
    </fixedIngredientFilter>
    <products>
      <FT_Shell_NuclearWarhead>1</FT_Shell_NuclearWarhead>
    </products>
    <skillRequirements>
      <Crafting>12</Crafting>
    </skillRequirements>
	<researchPrerequisite>FT_NuclearDawn</researchPrerequisite>
    <workSkill>Crafting</workSkill>
  </RecipeDef>

  <ThingDef ParentName="ShellBase">
    <defName>FT_Shell_NuclearWarhead</defName>
    <label>nuclear warhead</label>
    <description>An industrial-tech warhead powered by consists of precisely calculated explosives and uranium. it creates a huge explosion, electromagnetic pulse, and ignite flammable object around the target, even not within kill range you will still be stunned by the shockwave and violent flashes.\n It can be fired from mortars or launched by artillery. Won't explode when damaged.\n\n But be aware, that a nuclear explosion could have unpredictable adverse effects on the environment.\n\n Powerful yet highly controversial weapons. While they are widely used in some worlds, they are strictly banned in many other worlds.\n Most industrial worlds prefer purchasing clean anti-grain warheads from core worlds over building nuclear warheads themselves under the excuse that the former is more environment-friendly than the latter.\n Still, the truth is more than that: It is the need of the arms dealers from the core worlds for a place to dump the mass-produced anti-grain weaponry that drove the industrial worlds into mass purchasing such warheads. unlike nuclear warheads, reverse engineering them is impossible in the industrial world.</description>
    <graphicData>
      <texPath>FT_NuclearDawn/FT_Nuke</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
    </graphicData>
    <tradeability>Sellable</tradeability>
    <statBases>
      <MarketValue>2500</MarketValue>
    </statBases>
    <thingSetMakerTags>
      <li>RewardStandardHighFreq</li>
    </thingSetMakerTags>
    <projectileWhenLoaded>FT_Bullet_NuclearWarhead</projectileWhenLoaded>
  </ThingDef>
   
  <ThingDef ParentName="BaseBullet">
    <defName>FT_Bullet_NuclearWarhead</defName>
    <label>nuclear warhead</label>
	<thingClass>Fortification.Projectile_ExplosiveByComps</thingClass>
    <graphicData>
      <texPath>FT_NuclearDawn/FT_Shell_Nuke</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <shaderType>TransparentPostLight</shaderType>
    </graphicData>
	<comps>
		<li Class="Fortification.CompProperties_ExpolsionWithEvents">
			<conditions>
				<li>
					<conditionDef>FTND_NuclearFlare</conditionDef>
					<percent>1</percent>
					<duration>180000~360000</duration>
				</li>
				<li>
					<conditionDef>FTND_NuclearFlare</conditionDef>
					<percent>5</percent>
					<duration>15000~180000</duration>
				</li>
				<li>
					<conditionDef>FTND_NuclearFlare</conditionDef>
					<percent>25</percent>
					<duration>2500~15000</duration>
				</li>
				<li>
					<conditionDef>FTND_NuclearFallout</conditionDef>
					<percent>1</percent>
					<duration>360000</duration>
				</li>
				<li>
					<conditionDef>FTND_NuclearFallout</conditionDef>
					<percent>5</percent>
					<duration>60000~180000</duration>
				</li>
				<li>
					<conditionDef>FTND_NuclearFallout</conditionDef>
					<percent>25</percent>
					<duration>15000</duration>
				</li>
				<li>
					<conditionDef>FTND_NuclearWinter</conditionDef>
					<percent>1</percent>
					<duration>360000~960000</duration>
				</li>
				<li>
					<conditionDef>FTND_NuclearWinter</conditionDef>
					<percent>5</percent>
					<duration>60000~360000</duration>
				</li>
				<li>
					<conditionDef>FTND_Flashstorm</conditionDef>
					<percent>25</percent>
					<duration>10000~30000</duration>
				</li>
			</conditions>
		</li>
		<li Class="Fortification.CompProperties_CompositeExplosion">
			<compositeExplosions>
				<li>
				<!--核爆心-->
				  <countdown>1</countdown>
				  <radius>5.9</radius>
				  <damamgeDef>Bomb</damamgeDef>
				  <amount>500</amount>
				  <armorPenetration>2</armorPenetration>
				  <explosionSound>MortarBomb_Explode</explosionSound>
				</li>
				<li>
				  <countdown>1</countdown>
				  <radius>14.9</radius>
				  <damamgeDef>EMP</damamgeDef>
				  <amount>80</amount>
				  <armorPenetration>2</armorPenetration>
				  <explosionSound>Explosion_EMP</explosionSound>
				</li>
				<li>
				  <countdown>2</countdown>
				  <radius>10.9</radius>
				  <damamgeDef>Flame</damamgeDef>
				  <amount>80</amount>
				  <armorPenetration>2</armorPenetration>
				  <explosionSound>MortarBomb_Explode</explosionSound>
				  <preExplosionSpawnThingDef>Filth_Fuel</preExplosionSpawnThingDef>
				  <preExplosionSpawnChance>0.25</preExplosionSpawnChance>
				  <preExplosionSpawnThingCount>50</preExplosionSpawnThingCount>
				  <postExplosionSpawnThingDef>Filth_Fuel</postExplosionSpawnThingDef>
				  <postExplosionSpawnChance>0.75</postExplosionSpawnChance>
				  <postExplosionSpawnThingCount>25</postExplosionSpawnThingCount>
				  <chanceToStartFire>0.25</chanceToStartFire>
				</li>	
			</compositeExplosions>
		</li>
	</comps>
    <projectile>
	<damageDef>Stun</damageDef>
      <speed>41</speed>
      <damageAmountBase>80</damageAmountBase>
      <explosionRadius>24.9</explosionRadius>
	  <explosionDelay>3</explosionDelay>
      <explosionEffect>GiantExplosion</explosionEffect>
      <flyOverhead>true</flyOverhead>
      <soundHitThickRoof>Artillery_HitThickRoof</soundHitThickRoof>
      <soundExplode>Explosion_GiantBomb</soundExplode>
      <soundImpactAnticipate>MortarRound_PreImpact</soundImpactAnticipate>
      <soundAmbient>MortarRound_Ambient</soundAmbient>
    </projectile>
  </ThingDef>

</Defs>
